[pytest]
# pytest configuration for backend tests

python_files = test_*.py
python_classes = Test*
python_functions = test_*

testpaths = tests

addopts =
    --verbose
    --tb=short
    --strict-markers
    --cov=.
    --cov-report=html
    --cov-report=term-missing
    --cov-report=xml
    --cov-branch

[coverage:run]
omit =
    tests/*
    */__pycache__/*
    */venv/*
    */.venv/*
    csv_to_sql.py
    data_cleaning.py

# Minimum coverage threshold
[coverage:report]
fail_under = 80
precision = 2
show_missing = True
skip_covered = False

# Test markers
markers =
    unit: Unit tests
    integration: Integration tests
    slow: Slow running tests
    api: API endpoint tests

# Console output
console_output_style = progress

# Warnings
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning